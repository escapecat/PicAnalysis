function previewFile() { var preview = document.querySelector('img'); var file  = document.querySelector('input[type=file]').files[0]; var reader = new FileReader(); reader.onloadend = function () {  preview.src = reader.result; } if (file) {  reader.readAsDataURL(file); } else {  preview.src = ""; }} function analysis(){ deleteRec(); $.ajax({  type:"get",  url:"new_file.php",  async:true,  success:function(data){   var jsonObject = eval('(' + data + ')');   $("#max").val(jsonObject.temp.max);   $("#min").val(jsonObject.temp.min);   for(var i = 0; i < jsonObject.point.length; i++)   {    addRec(jsonObject.point[i].x, jsonObject.point[i].y);   }  },   });}
function addRec(x,y){ var div = document.createElement("div"); div.style.position = "absolute"; div.style.left = x + "px"; div.style.top = y + "px"; div.style.border = "2px solid #F00"; div.style.width = "20px"; div.style.height = "20px"; div.className = "rectangle"; var pic = document.getElementById("content"); pic.appendChild(div)}
function deleteRec(){ var rec = $(".rectangle"); for(var i = 0; i<(rec.length); i++) {  $(".rectangle").remove(); }}
